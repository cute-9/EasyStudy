(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31ea0bc4"],{3681:function(e,t,o){"use strict";o("6ef6")},"498a":function(e,t,o){"use strict";var n=o("23e7"),r=o("58a8").trim,i=o("c8d2");n({target:"String",proto:!0,forced:i("trim")},{trim:function(){return r(this)}})},"6ef6":function(e,t,o){},7101:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"login"},[o("div",{staticClass:"loginPanel"},[o("el-form",{ref:"loginForm",attrs:{"label-position":"left","label-width":"80px",model:e.loginForm,rules:e.loginRules}},[o("el-form-item",[o("div",{staticClass:"login_radio"},[o("h2",[e._v("易学登陆")])])]),o("el-form-item",{attrs:{label:"账号",prop:"username"}},[o("el-input",{model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),o("el-form-item",{attrs:{label:"密码",prop:"password"}},[o("el-input",{attrs:{"show-password":""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),o("el-form-item",{staticClass:"validateBox",attrs:{label:"验证码",prop:"validateCode"}},[o("el-row",[o("el-col",{attrs:{span:12}},[o("el-input",{model:{value:e.loginForm.validateCode,callback:function(t){e.$set(e.loginForm,"validateCode",t)},expression:"loginForm.validateCode"}})],1),o("el-col",{attrs:{span:12}},[o("div",{staticStyle:{border:"none"},on:{click:e.refreshCode}},[o("HIdentify",{attrs:{identifyCode:e.identifyCode}})],1)])],1)],1)],1),o("div",{staticClass:"btn"},[o("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e._v("登录")])],1)],1)])},r=[],i=o("1da1");o("96cf"),o("d9e2"),o("498a"),o("ac1f"),o("00b4");function a(e){var t=["张振宇","editor"];return t.indexOf(e.trim())>=0}var s=o("2af9"),l=o("b775");function d(e){return Object(l["a"])({url:"login",method:"post",data:e})}var u=o("4328"),c=o.n(u),f={name:"Login",components:{HIdentify:s["f"]},data:function(){var e=this,t=function(e,t,o){a(t)?o():o(new Error("请输入正确的账号"))},o=function(e,t,o){t.length<6?o(new Error("请输入正确的密码")):o()},n=function(t,o,n){o!==e.identifyCode?n(new Error("验证码错误，请重新输入")):n()};return{loginForm:{username:"张振宇",password:"888888",role:"teacher",validateCode:""},loginRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:o}],validateCode:[{required:!0,trigger:"blur",validator:n}]},identifyCodes:"1234567890",identifyCode:""}},methods:{randomNum:function(e,t){return Math.floor(Math.random()*(t-e)+e)},refreshCode:function(){this.identifyCode="",this.makeCode(this.identifyCodes,4)},makeCode:function(e,t){for(var o=0;o<t;o++)this.identifyCode+=this.identifyCodes[this.randomNum(0,this.identifyCodes.length)]},handleLogin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.loginForm.validate((function(t){if(!t)return!1;d(c.a.stringify({username:e.loginForm.username,password:e.loginForm.password,role:e.loginForm.role})).then((function(t){window.localStorage.setItem("token",t.data.token),window.localStorage.setItem("id",t.data.info.id),e.$router.push("/layout/home")}))}));case 1:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;e.makeCode(this.identifyCodes,4),this.refreshCode()}},m=f,p=(o("3681"),o("2877")),g=Object(p["a"])(m,n,r,!1,null,"0ac38e16",null);t["default"]=g.exports},c8d2:function(e,t,o){var n=o("5e77").PROPER,r=o("d039"),i=o("5899"),a="​᠎";e.exports=function(e){return r((function(){return!!i[e]()||a[e]()!==a||n&&i[e].name!==e}))}}}]);
//# sourceMappingURL=chunk-31ea0bc4.31c0ece8.js.map